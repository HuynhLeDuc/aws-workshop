<!DOCTYPE html>
<html lang="vi" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.150.0">
    <meta
  name="description"
  content=""
/>
<meta name="author" content="huynhld.ai@gmail.com" />

    <link rel="icon" href="../../../images/favicon.png" type="image/png">

    <title>Blog 3 :: Báo cáo thực tập</title>

    
    <link href="../../../css/nucleus.css?1765201106" rel="stylesheet">
    <link href="../../../css/fontawesome-all.min.css?1765201106" rel="stylesheet">
    <link href="../../../css/hybrid.css?1765201106" rel="stylesheet">
    <link href="../../../css/featherlight.min.css?1765201106" rel="stylesheet">
    <link href="../../../css/perfect-scrollbar.min.css?1765201106" rel="stylesheet">
    <link href="../../../css/auto-complete.css?1765201106" rel="stylesheet">
    <link href="../../../css/atom-one-dark-reasonable.css?1765201106" rel="stylesheet">
    <link href="../../../css/theme.css?1765201106" rel="stylesheet">
    <link href="../../../css/hugo-theme.css?1765201106" rel="stylesheet">
    
    <link href="../../../css/theme-workshop.css?1765201106" rel="stylesheet">
    
    

    <script src="../../../js/jquery-3.3.1.min.js?1765201106"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    

  </head>
  <body class="" data-url="../../../vi/3-blogstranslated/3.3-blog3/">
    <nav
  id="sidebar"
  class="showVisitedLinks"
>
   
  <div id="header-wrapper">
    <div id="header"><a id="logo" href="../../../">
  <svg
    id="Layer_1"
    data-name="Layer 1"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 60 30"
    width="30%"
  >
    <defs>
      <style>
        .cls-1 {
          fill: #fff;
        }
        .cls-2 {
          fill: #f90;
          fill-rule: evenodd;
        }
      </style>
    </defs>
    <title>AWS-Logo_White-Color</title>
    <path
      class="cls-1"
      d="M14.09,10.85a4.7,4.7,0,0,0,.19,1.48,7.73,7.73,0,0,0,.54,1.19.77.77,0,0,1,.12.38.64.64,0,0,1-.32.49l-1,.7a.83.83,0,0,1-.44.15.69.69,0,0,1-.49-.23,3.8,3.8,0,0,1-.6-.77q-.25-.42-.51-1a6.14,6.14,0,0,1-4.89,2.3,4.54,4.54,0,0,1-3.32-1.19,4.27,4.27,0,0,1-1.22-3.2A4.28,4.28,0,0,1,3.61,7.75,6.06,6.06,0,0,1,7.69,6.46a12.47,12.47,0,0,1,1.76.13q.92.13,1.91.36V5.73a3.65,3.65,0,0,0-.79-2.66A3.81,3.81,0,0,0,7.86,2.3a7.71,7.71,0,0,0-1.79.22,12.78,12.78,0,0,0-1.79.57,4.55,4.55,0,0,1-.58.22l-.26,0q-.35,0-.35-.52V2a1.09,1.09,0,0,1,.12-.58,1.2,1.2,0,0,1,.47-.35A10.88,10.88,0,0,1,5.77.32,10.19,10.19,0,0,1,8.36,0a6,6,0,0,1,4.35,1.35,5.49,5.49,0,0,1,1.38,4.09ZM7.34,13.38a5.36,5.36,0,0,0,1.72-.31A3.63,3.63,0,0,0,10.63,12,2.62,2.62,0,0,0,11.19,11a5.63,5.63,0,0,0,.16-1.44v-.7a14.35,14.35,0,0,0-1.53-.28,12.37,12.37,0,0,0-1.56-.1,3.84,3.84,0,0,0-2.47.67A2.34,2.34,0,0,0,5,11a2.35,2.35,0,0,0,.61,1.76A2.4,2.4,0,0,0,7.34,13.38Zm13.35,1.8a1,1,0,0,1-.64-.16,1.3,1.3,0,0,1-.35-.65L15.81,1.51a3,3,0,0,1-.15-.67.36.36,0,0,1,.41-.41H17.7a1,1,0,0,1,.65.16,1.4,1.4,0,0,1,.33.65l2.79,11,2.59-11A1.17,1.17,0,0,1,24.39.6a1.1,1.1,0,0,1,.67-.16H26.4a1.1,1.1,0,0,1,.67.16,1.17,1.17,0,0,1,.32.65L30,12.39,32.88,1.25A1.39,1.39,0,0,1,33.22.6a1,1,0,0,1,.65-.16h1.54a.36.36,0,0,1,.41.41,1.36,1.36,0,0,1,0,.26,3.64,3.64,0,0,1-.12.41l-4,12.86a1.3,1.3,0,0,1-.35.65,1,1,0,0,1-.64.16H29.25a1,1,0,0,1-.67-.17,1.26,1.26,0,0,1-.32-.67L25.67,3.64,23.11,14.34a1.26,1.26,0,0,1-.32.67,1,1,0,0,1-.67.17Zm21.36.44a11.28,11.28,0,0,1-2.56-.29,7.44,7.44,0,0,1-1.92-.67,1,1,0,0,1-.61-.93v-.84q0-.52.38-.52a.9.9,0,0,1,.31.06l.42.17a8.77,8.77,0,0,0,1.83.58,9.78,9.78,0,0,0,2,.2,4.48,4.48,0,0,0,2.43-.55,1.76,1.76,0,0,0,.86-1.57,1.61,1.61,0,0,0-.45-1.16A4.29,4.29,0,0,0,43,9.22l-2.41-.76A5.15,5.15,0,0,1,38,6.78a3.94,3.94,0,0,1-.83-2.41,3.7,3.7,0,0,1,.45-1.85,4.47,4.47,0,0,1,1.19-1.37A5.27,5.27,0,0,1,40.51.29,7.4,7.4,0,0,1,42.6,0a8.87,8.87,0,0,1,1.12.07q.57.07,1.08.19t.95.26a4.27,4.27,0,0,1,.7.29,1.59,1.59,0,0,1,.49.41.94.94,0,0,1,.15.55v.79q0,.52-.38.52a1.76,1.76,0,0,1-.64-.2,7.74,7.74,0,0,0-3.2-.64,4.37,4.37,0,0,0-2.21.47,1.6,1.6,0,0,0-.79,1.48,1.58,1.58,0,0,0,.49,1.18,4.94,4.94,0,0,0,1.83.92L44.55,7a5.08,5.08,0,0,1,2.57,1.6A3.76,3.76,0,0,1,47.9,11a4.21,4.21,0,0,1-.44,1.93,4.4,4.4,0,0,1-1.21,1.47,5.43,5.43,0,0,1-1.85.93A8.25,8.25,0,0,1,42.05,15.62Z"
    ></path>
    <path
      class="cls-2"
      d="M45.19,23.81C39.72,27.85,31.78,30,25,30A36.64,36.64,0,0,1,.22,20.57c-.51-.46-.06-1.09.56-.74A49.78,49.78,0,0,0,25.53,26.4,49.23,49.23,0,0,0,44.4,22.53C45.32,22.14,46.1,23.14,45.19,23.81Z"
    ></path>
    <path
      class="cls-2"
      d="M47.47,21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74,3.13-2.2,8.27-1.57,8.86-.83s-.16,5.89-3.09,8.35c-.45.38-.88.18-.68-.32C46.69,25.8,48.17,22.11,47.47,21.21Z"
    ></path>
  </svg>
</a>
</div>
     <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="../../../js/lunr.min.js?1765201106"></script>
<script type="text/javascript" src="../../../js/auto-complete.js?1765201106"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/huynhleduc.github.io\/aws-workshop\/\/vi";
    
</script>
<script type="text/javascript" src="../../../js/search.js?1765201106"></script>
 
  </div>

  <div class="highlightable">
    <ul class="topics">
               
<li
  data-nav-id="/vi/1-worklog/"
  title="Nhật ký công việc"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../vi/1-worklog/">
     <b> 1. </b> Nhật ký công việc 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
  <ul>
          
            
<li
  data-nav-id="/vi/1-worklog/1.1-week1/"
  title="Worklog Tuần 1"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../vi/1-worklog/1.1-week1/">
     <b> 1.1. </b> Worklog Tuần 1 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/1-worklog/1.2-week2/"
  title="Worklog Tuần 2"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../vi/1-worklog/1.2-week2/">
     <b> 1.2. </b> Worklog Tuần 2 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/1-worklog/1.3-week3/"
  title="Worklog Tuần 3"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../vi/1-worklog/1.3-week3/">
     <b> 1.3. </b> Worklog Tuần 3 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/1-worklog/1.4-week4/"
  title="Worklog Tuần 4"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../vi/1-worklog/1.4-week4/">
     <b> 1.4. </b> Worklog Tuần 4 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/1-worklog/1.5-week5/"
  title="Worklog Tuần 5"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../vi/1-worklog/1.5-week5/">
     <b> 1.5. </b> Worklog Tuần 5 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/1-worklog/1.6-week6/"
  title="Worklog Tuần 6"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../vi/1-worklog/1.6-week6/">
     <b> 1.6. </b> Worklog Tuần 6 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/1-worklog/1.7-week7/"
  title="Worklog Tuần 7"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../vi/1-worklog/1.7-week7/">
     <b> 1.7. </b> Worklog Tuần 7 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/1-worklog/1.8-week8/"
  title="Worklog Tuần 8"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../vi/1-worklog/1.8-week8/">
     <b> 1.8. </b> Worklog Tuần 8 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/1-worklog/1.9-week9/"
  title="Worklog Tuần 9"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../vi/1-worklog/1.9-week9/">
     <b> 1.9. </b> Worklog Tuần 9 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/1-worklog/1.10-week10/"
  title="Worklog Tuần 10"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../vi/1-worklog/1.10-week10/">
     <b> 1.10. </b> Worklog Tuần 10 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/1-worklog/1.11-week11/"
  title="Worklog Tuần 11"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../vi/1-worklog/1.11-week11/">
     <b> 1.11. </b> Worklog Tuần 11 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/1-worklog/1.12-week12/"
  title="Worklog Tuần 12"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../vi/1-worklog/1.12-week12/">
     <b> 1.12 </b> Worklog Tuần 12 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
     
  </ul>
  
</li>
           
<li
  data-nav-id="/vi/2-proposal/"
  title="Bản đề xuất"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../vi/2-proposal/">
     <b> 2. </b> Bản đề xuất 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
           
<li
  data-nav-id="/vi/3-blogstranslated/"
  title="Các bài blogs đã dịch"
  class="dd-item 
        parent
        
        
        "
>
  <a href="../../../vi/3-blogstranslated/">
     <b> 3. </b> Các bài blogs đã dịch 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
  <ul>
          
            
<li
  data-nav-id="/vi/3-blogstranslated/3.1-blog1/"
  title="Blog 1"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../vi/3-blogstranslated/3.1-blog1/">
     <b> 3.1. </b> Blog 1 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/3-blogstranslated/3.2-blog2/"
  title="Blog 2"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../vi/3-blogstranslated/3.2-blog2/">
     <b> 3.2. </b> Blog 2 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/3-blogstranslated/3.3-blog3/"
  title="Blog 3"
  class="dd-item 
        
        active
        
        "
>
  <a href="../../../vi/3-blogstranslated/3.3-blog3/">
     <b> 3.3. </b> Blog 3 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
     
  </ul>
  
</li>
           
<li
  data-nav-id="/vi/4-eventparticipated/"
  title="Các events đã tham gia"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../vi/4-eventparticipated/">
     <b> 4. </b> Các events đã tham gia 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
  <ul>
          
            
<li
  data-nav-id="/vi/4-eventparticipated/4.1-event1/"
  title="Event 1"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../vi/4-eventparticipated/4.1-event1/">
     <b> 4.1. </b> Event 1 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/4-eventparticipated/4.2-event2/"
  title="Event 2"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../vi/4-eventparticipated/4.2-event2/">
     <b> 4.2. </b> Event 2 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
     
  </ul>
  
</li>
           
<li
  data-nav-id="/vi/5-workshop/"
  title="Workshop"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../vi/5-workshop/">
     <b> 5. </b> Workshop 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
  <ul>
          
            
<li
  data-nav-id="/vi/5-workshop/5.1-workshop-overview/"
  title="Giới thiệu"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../vi/5-workshop/5.1-workshop-overview/">
     <b> 5.1. </b> Giới thiệu 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/5-workshop/5.2-prerequiste/"
  title="Các bước chuẩn bị"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../vi/5-workshop/5.2-prerequiste/">
     <b> 5.2. </b> Các bước chuẩn bị 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/5-workshop/5.3-vpc-to-internet/"
  title="Khám phá Bedrock Console"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../vi/5-workshop/5.3-vpc-to-internet/">
     <b> 5.3. </b> Khám phá Bedrock Console 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
  <ul>
          
            
<li
  data-nav-id="/vi/5-workshop/5.3-vpc-to-internet/5.3.1-create-gwe/"
  title="Khám phá bedrock"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../vi/5-workshop/5.3-vpc-to-internet/5.3.1-create-gwe/">
     <b> 5.3.1 </b> Khám phá bedrock 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
     
  </ul>
  
</li>
    
            
<li
  data-nav-id="/vi/5-workshop/5.4-s3-onprem/"
  title="Thiết kế Agent"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../vi/5-workshop/5.4-s3-onprem/">
     <b> 5.4 </b> Thiết kế Agent 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
  <ul>
          
            
<li
  data-nav-id="/vi/5-workshop/5.4-s3-onprem/5.4.1-prepare/"
  title="Tạo Knowledge Base"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../vi/5-workshop/5.4-s3-onprem/5.4.1-prepare/">
     <b> 5.4.1 </b> Tạo Knowledge Base 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/5-workshop/5.4-s3-onprem/5.4.2-create-agent/"
  title="Tạo Agent"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../vi/5-workshop/5.4-s3-onprem/5.4.2-create-agent/">
     <b> 5.4.2 </b> Tạo Agent 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
     
  </ul>
  
</li>
    
            
<li
  data-nav-id="/vi/5-workshop/5.5-policy/"
  title="Thử nghiệm ở on premise"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../vi/5-workshop/5.5-policy/">
     <b> 5.5 </b> Thử nghiệm ở on premise 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/5-workshop/5.6-cleanup/"
  title="Dọn dẹp tài nguyên"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../vi/5-workshop/5.6-cleanup/">
     <b> 5.6. </b> Dọn dẹp tài nguyên 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
     
  </ul>
  
</li>
           
<li
  data-nav-id="/vi/6-self-evaluation/"
  title="Tự đánh giá"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../vi/6-self-evaluation/">
     <b> 6. </b> Tự đánh giá 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
           
<li
  data-nav-id="/vi/7-feedback/"
  title="Chia sẻ, đóng góp ý kiến"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../vi/7-feedback/">
     <b> 7. </b> Chia sẻ, đóng góp ý kiến 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
    </ul>

     
    <section id="shortcuts">
      <h3>
        More
      </h3>
      <ul>
        
        <li>
          <a class="padding" href="https://www.facebook.com/groups/awsstudygroupfcj/"
            ><i class='fab fa-facebook'></i> AWS Study Group</a
          >
        </li>
        
      </ul>
    </section>
     
    <section id="prefooter">
      <hr />
      <ul>
        
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
            <div class="select-style">
              <select id="select-language" onchange="location = this.value;">
                       
                <option
                  id="en"
                  value="https://huynhleduc.github.io/aws-workshop/3-blogstranslated/3.3-blog3/"
                >
                  English
                </option>
                            
                <option
                  id="vi"
                  value="https://huynhleduc.github.io/aws-workshop/vi/3-blogstranslated/3.3-blog3/"
                  selected
                >
                  Tiếng Việt
                </option>
                   
              </select>
              <svg
                version="1.1"
                id="Capa_1"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                x="0px"
                y="0px"
                width="255px"
                height="255px"
                viewBox="0 0 255 255"
                style="enable-background: new 0 0 255 255"
                xml:space="preserve"
              >
                <g>
                  <g id="arrow-drop-down">
                    <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
                  </g>
                </g>
              </svg>
            </div>
          </a>
        </li>
         
        <li>
          <a class="padding" href="#" data-clear-history-toggle=""
            ><i class="fas fa-history fa-fw"></i> Clear History</a
          >
        </li>
        
      </ul>
    </section>
    
    <section id="footer"><left>
    
    <b> Workshop</b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0"
        title="Migrate" Alt="web counter" border="0" /></a> <br>
    <b> <a href="https://cloudjourney.awsstudygroup.com/">Cloud Journey</a></b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0"
        title="Total CLoud Journey" Alt="web counter" border="0" />

</left>
<left>
    <br>
    <br>
    <b>Last Updated</b><br>
    <i>
        <span id="lastUpdated" style="color:orange;"></span>
    </i>

    <script>
        
        const today = new Date();
        
        const formattedDate = today.toLocaleDateString('en-GB');
        
        document.getElementById('lastUpdated').textContent = formattedDate;
    </script>
</left>
<left>
    <br>
    <br>
    <b> Team </b> <br>

    <i> <a href="https://www.facebook.com/groups/660548818043427" style="color:orange">First Cloud Journey </a> <br>

    </i>
</left>

<script async defer src="https://buttons.github.io/buttons.js"></script></section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='../../../vi/'>Báo cáo thực tập</a> > <a href='../../../vi/3-blogstranslated/'>Các bài blogs đã dịch</a> > Blog 3
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
  <div class="wrapper"><nav id="TableOfContents">
  <ul>
    <li><a href="#chỉnh-sửa-amazon-ebs-volumes-trên-kubernetes-với-volume-attribute-class">Chỉnh sửa Amazon EBS volumes trên Kubernetes với Volume Attribute Class</a>
      <ul>
        <li><a href="#giới-thiệu">Giới thiệu</a></li>
        <li><a href="#tổng-quan-về-giải-pháp">Tổng quan về giải pháp</a></li>
        <li><a href="#điều-kiện-tiên-quyết">Điều kiện tiên quyết</a></li>
        <li><a href="#hướng-dẫn">Hướng dẫn</a>
          <ul>
            <li></li>
          </ul>
        </li>
        <li><a href="#dọn-dẹp">Dọn dẹp</a></li>
        <li><a href="#phần-kết-luận">Phần kết luận</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Blog 3
            </h1>
          

        



	<h1 id="chỉnh-sửa-amazon-ebs-volumes-trên-kubernetes-với-volume-attribute-class">Chỉnh sửa Amazon EBS volumes trên Kubernetes với Volume Attribute Class</h1>
<span style="font-size:13px; color: #737070ff;">
by pmm on 05 MAR 2025 in | 
</span>
<small>
<a href="https://aws.amazon.com/blogs/containers/category/containers/">Containers</a>, 
<a href="https://aws.amazon.com/blogs/containers/category/post-types/technical-how-to/" style="color:#0073bb; text-decoration:none;">Technical How-to</a>,  
<a href="https://aws.amazon.com/blogs/containers/modify-amazon-ebs-volumes-on-kubernetes-with-volume-attributes-classes/" style="color:#0073bb; text-decoration:none;">Permalink</a>, 
</small>
<p><em>Bài viết này được đồng tác giả bởi Kevin Liu (Senior PMT), Jens-Uwe Walther (Senior STAM-Containers), và Drew Sirenko (Software Dev Engineer).</em></p>
<h2 id="giới-thiệu">Giới thiệu</h2>
<p>Trong bài viết này, chúng ta khám phá cách sửa đổi Amazon Elastic Block Store (Amazon EBS) volumes trên Kubernetes <strong>mà không cần dừng ứng dụng</strong>. Tìm hiểu cách sử dụng VolumeAttributesClass API cùng với Amazon EBS Container Storage Interface (CSI) driver để điều chỉnh hiệu năng provisioned performance, di chuyển sang gp3 volumes, và tự động hóa quy trình sao lưu dữ liệu của bạn.</p>
<p>Các ứng dụng container hóa hiện đại sử dụng bộ nhớ persistent, như phân tích dữ liệu, cơ sở dữ liệu, hoặc mã hóa/giải mã video, cần nhiều đặc tính lưu trữ khác nhau như độ trễ thấp, thông lượng cao, hoặc nhiều hơn nữa. Amazon EBS rất phù hợp cho các workload này. EBS volumes cung cấp nhiều loại lưu trữ khác nhau, các thuộc tính lưu trữ có thể cấu hình như IOPS và throughput, và khả năng thay đổi các thuộc tính này mà không làm gián đoạn.</p>
<p>Nếu bạn triển khai các workload stateful trên Kubernetes, bạn có thể sử dụng Amazon EBS CSI driver để provision và quản lý EBS volumes thay bạn. Khi bạn tạo Persistent Volume Claim (PVC) với kích thước cụ thể và Storage Class (SC), Kubernetes sẽ phối hợp với Amazon EBS CSI driver để triển khai workload với lưu trữ cần thiết bằng cách tạo, attach và format EBS volume.</p>
<p>Việc thay đổi đặc tính lưu trữ của volumes trong Kubernetes trước đây là thao tác offline, yêu cầu operator phải tạo SC mới, và migrate sang PVC và Persistent Volume (PV) mới. Quy trình này cần downtime và ảnh hưởng đến availability. Vì lý do đó, năm 2023, AWS phát hành volume-modifier-for-k8s sidecar, cho phép cập nhật online các đặc điểm volume bằng cách áp dụng annotations lên PVC. Mặc dù đây là giải pháp quan trọng, AWS đã hợp tác với các nhà cung cấp lưu trữ khác để tạo một giải pháp sửa đổi volume được cung cấp dưới dạng native Kubernetes API. Trong năm qua, AWS đã làm việc với cộng đồng Kubernetes để phát hành VolumeAttributesClass Kubernetes Enhancement, đã đạt beta trong Kubernetes 1.31. Dù tính năng bị disable mặc định trong upstream Kubernetes, nó được enable tự động cho bạn trong Amazon Elastic Kubernetes Service (Amazon EKS) 1.31.</p>
<p>Bắt đầu từ Amazon EKS 1.31, bạn có thể sử dụng VolumeAttributesClass (VAC) để sửa đổi volume type, IOPS hoặc throughput của EBS volumes <strong>mà không cần volume-modifier-for-k8s sidecar</strong>. Hơn nữa, bạn có thể dùng VAC để thêm, chỉnh sửa và xóa AWS resource tags từ volumes của bạn. Amazon EBS CSI driver enable tính năng này mặc định khi bạn nâng cấp lên phiên bản 1.35.0 hoặc mới hơn.</p>
<p>Sử dụng Amazon EKS 1.31 và Amazon EBS CSI driver 1.35.0, bạn đã có thể bắt đầu dùng VAC thay cho PVC annotations. Trong hai phần tiếp theo, chúng tôi giới thiệu VolumeAttributesClasses và cách bật tính năng này trên cluster. Sau đó, chúng tôi hướng dẫn ba workflow phổ biến để sửa đổi volumes với VAC:</p>
<ol>
<li>Điều chỉnh throughput và IOPS của volumes.</li>
<li>Di chuyển sang EBS gp3 volumes để tiết kiệm đến 20% chi phí mỗi GB so với gp2.</li>
<li>Sửa đổi resource tags của EBS volume để tự động hóa workflow backup bằng Amazon Data Lifecycle Manager.</li>
</ol>
<h2 id="tổng-quan-về-giải-pháp">Tổng quan về giải pháp</h2>
<p>Cluster operators có thể dựa vào Amazon EBS CSI driver để quản lý declarative persistent volumes. Bạn có thể yêu cầu persistent storage cho workload bằng PVC với size, SC và VAC cụ thể.</p>
<p>Một VAC bao gồm tên, driverName của CSI driver, và danh sách mutable parameters cụ thể đối với storage provider như Amazon EBS.</p>
<p>Các tham số mutable EBS volume như throughput, IOPS, volume types và resource tags có thể được chỉ định trong VAC:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>*apiVersion: storage.k8s.io/v1beta1  
</span></span><span style="display:flex;"><span>kind: VolumeAttributesClass  
</span></span><span style="display:flex;"><span>metadata:  
</span></span><span style="display:flex;"><span>  name: ebs-blog-gp3-standard-performance  
</span></span><span style="display:flex;"><span>driverName: ebs.csi.aws.com  
</span></span><span style="display:flex;"><span>parameters:  
</span></span><span style="display:flex;"><span>  type: gp3  
</span></span><span style="display:flex;"><span>  iops: <span style="color:#e6db74">&#34;3000&#34;</span>  
</span></span><span style="display:flex;"><span>  throughput: <span style="color:#e6db74">&#34;125&#34;</span>  
</span></span><span style="display:flex;"><span>  tagSpecification_1: <span style="color:#e6db74">&#34;performance=standard&#34;</span>*  
</span></span></code></pre></div><p>Bạn có thể thêm VAC vào PVC bằng trường spec.volumeAttributesClassName:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>*apiVersion: v1  
</span></span><span style="display:flex;"><span>kind: PersistentVolumeClaim  
</span></span><span style="display:flex;"><span>metadata:  
</span></span><span style="display:flex;"><span>  name: ebs-blog-overview  
</span></span><span style="display:flex;"><span>spec: 
</span></span><span style="display:flex;"><span>  ...  
</span></span><span style="display:flex;"><span>  volumeAttributesClassName: ebs-blog-gp3-standard-performance*  
</span></span></code></pre></div><p>Volume được provision với các parameters trong VAC và SC, với VAC <strong>ưu tiên hơn</strong> khi có xung đột. VAC của PVC cũng override mọi thay đổi dựa trên annotations, và ngăn các thay đổi annotation trong tương lai.</p>
<p>Việc tách riêng VAC mang lại lợi ích khi các tổ chức tách biệt vai trò vận hành cluster và triển khai ứng dụng. Operator có thể tạo SC và VAC ở phạm vi cluster, sau đó application developers có thể sử dụng chúng trong PVC thuộc namespace của họ.</p>
<h2 id="điều-kiện-tiên-quyết">Điều kiện tiên quyết</h2>
<p>Trên Amazon EKS 1.31 trở lên, VolumeAttributesClass feature gate và API storage.k8s.io/v1beta1 được enable tự động trên control plane. Ngoài ra, bạn phải sử dụng Amazon EBS CSI driver v1.35.0 hoặc mới hơn, được cài đặt qua Amazon EKS Managed add-on v1.35.0-eksbuild.2 hoặc Helm chart v2.35.1.</p>
<p>Nếu bạn vận hành self-managed Kubernetes v1.31 (như kOps), bạn phải enable VolumeAttributesClass feature gate trên kube-apiserver, kube-scheduler và kube-controller-manager, và enable storage.k8s.io/v1beta1 API qua runtime-config của kube-apiserver.</p>
<p>Tham khảo tài liệu Kubernetes VolumeAttributesClass để xem đầy đủ yêu cầu.</p>
<p>Để sửa đổi Amazon EBS resource tags qua VAC, đảm bảo bạn đính kèm IAM Policy sau vào role của Amazon EBS CSI driver:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>*<span style="color:#f92672">{</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Version&#34;</span>: <span style="color:#e6db74">&#34;2012-10-17&#34;</span>,  
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Statement&#34;</span>: <span style="color:#f92672">[</span>  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">{</span>  
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;Effect&#34;</span>: <span style="color:#e6db74">&#34;Allow&#34;</span>,  
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;Action&#34;</span>: <span style="color:#f92672">[</span>  
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;ec2:CreateTags&#34;</span>  
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">]</span>,  
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;Resource&#34;</span>: <span style="color:#f92672">[</span>  
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;arn:aws:ec2:*:*:volume/*&#34;</span>,  
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;arn:aws:ec2:*:*:snapshot/*&#34;</span>  
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">]</span>  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">]</span>  
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>*  
</span></span></code></pre></div><h2 id="hướng-dẫn">Hướng dẫn</h2>
<p>Các bước sau sẽ hướng dẫn qua giải pháp này.</p>
<h4 id="cung-cấp-một-khối-lượng-và-tăng-hiệu-suất-của-nó">Cung cấp một khối lượng và tăng hiệu suất của nó</h4>
<p>Amazon EKS 1.31 không có SC mặc định. Chúng ta phải tạo SC sau:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ kubectl apply -f - <span style="color:#e6db74">&lt;&lt;EOF  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">apiVersion: storage.k8s.io/v1  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">kind: StorageClass  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">metadata:  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  name: ebs-blog-sc  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">provisioner: ebs.csi.aws.com  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">allowVolumeExpansion: true  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span>  
</span></span></code></pre></div><p>Dưới đây là hai VAC ví dụ, mỗi cái có QoS khác nhau:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ kubectl apply -f - <span style="color:#e6db74">&lt;&lt;EOF  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">apiVersion: storage.k8s.io/v1beta1  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">kind: VolumeAttributesClass  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">metadata:  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  name: ebs-blog-gp3-standard-performance  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">driverName: ebs.csi.aws.com  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">parameters:  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  type: gp3  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  iops: &#34;3000&#34;  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  throughput: &#34;125&#34;  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">---  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">apiVersion: storage.k8s.io/v1beta1  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">kind: VolumeAttributesClass  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">metadata:  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  name: ebs-blog-gp3-increased-performance  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">driverName: ebs.csi.aws.com  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">parameters:  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  type: gp3  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  iops: &#34;4000&#34;  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  throughput: &#34;130&#34;  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span>  
</span></span></code></pre></div><p>Provision volume với VAC standard:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ kubectl apply -f - <span style="color:#e6db74">&lt;&lt;EOF  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">apiVersion: v1  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">kind: PersistentVolumeClaim  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">metadata:  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  name: ebs-blog-claim  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">spec: 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  accessModes:  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    - ReadWriteOnce  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  storageClassName: ebs-blog-sc  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  volumeAttributesClassName: ebs-blog-gp3-standard-performance  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  resources:  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    requests: 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      storage: 10Gi  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span>  
</span></span></code></pre></div><p>Để tăng hiệu năng, bạn patch PVC sang VAC mới:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ kubectl patch pvc ebs-blog-claim -p <span style="color:#e6db74">&#39;{&#34;spec&#34;: { &#34;volumeAttributesClassName&#34;: &#34;ebs-blog-gp3-increased-performance&#34; }}&#39;</span>
</span></span></code></pre></div><p>EBS CSI driver sẽ thấy VAC hiện tại và VAC mong muốn khác nhau, sửa đổi volume và update PV.</p>
<p>Bạn chỉ có thể sửa một volume mỗi 6 giờ theo tài liệu EBS. Vì vậy bạn nên gộp tăng size PVC và VAC update vào một patch:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ kubectl patch pvc ebs-blog-claim --type json -p <span style="color:#e6db74">&#39;[{&#34;op&#34;: &#34;replace&#34;, &#34;path&#34;: &#34;/spec/volumeAttributesClassName&#34;, &#34;value&#34;: &#34;ebs-blog-gp3-increased-performance&#34; }, {&#34;op&#34;: &#34;replace&#34;, &#34;path&#34;: &#34;/spec/resources/requests/storage&#34;, &#34;value&#34;: &#34;11Gi&#34;}]&#39;</span>
</span></span></code></pre></div><p>Nếu không bạn sẽ thấy lỗi sau trên PVC:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>VolumeResizeFailed: ... VolumeModificationRateExceeded: You<span style="color:#960050;background-color:#1e0010">&#39;</span>ve reached the maximum modification rate per volume limit. Wait at least <span style="color:#ae81ff">6</span> hours between modifications per EBS volume.
</span></span></code></pre></div><h4 id="tiết-kiệm-chi-phí-bằng-cách-di-chuyển-sang-ổ-đĩa-gp3">Tiết kiệm chi phí bằng cách di chuyển sang ổ đĩa gp3</h4>
<p>VAC có thể dùng với PVC đã tạo từ trước không có VAC, rất hữu ích để migrate từ gp2 sang gp3. EBS gp3 cho phép provision IOPS và throughput độc lập với storage size. Bạn có thể migrate gp2 → gp3 trong mọi use case trước đây, và có thể tiết kiệm đến 20% chi phí.</p>
<p>Dưới đây là ví dụ workload stateful dùng gp2 volume:</p>
<style>
pre, code {
  background: gray !important;
  color: black !important;
}
</style>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ kubectl apply -f - <span style="color:#e6db74">&lt;&lt;EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">apiVersion: v1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">kind: PersistentVolumeClaim
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">metadata:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  name: ebs-blog-migration
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">spec:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  accessModes:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    - ReadWriteOnce
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  storageClassName: ebs-blog-migration
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  resources:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    requests:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      storage: 1Gi
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">---
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">apiVersion: storage.k8s.io/v1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">kind: StorageClass
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">metadata:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  name: ebs-blog-migration
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">provisioner: ebs.csi.aws.com
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">allowVolumeExpansion: true
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">volumeBindingMode: WaitForFirstConsumer
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">parameters:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  type: gp2
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">---
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">apiVersion: v1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">kind: Pod
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">metadata:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  name: ebs-blog-migration-app
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">spec:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  containers:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  - name: ebs-blog-app
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    image: centos
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    command: [&#34;/bin/sh&#34;]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    args: [&#34;-c&#34;, &#34;while true; do echo $(date -u) &gt;&gt; /data/out.txt; sleep 5; done&#34;]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    volumeMounts:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    - name: persistent-storage
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      mountPath: /data
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  volumes:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  - name: persistent-storage
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    persistentVolumeClaim:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      claimName: ebs-blog-migration
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span>
</span></span></code></pre></div><p>Để migrate volume sang gp3, trước tiên apply VAC:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ kubectl apply -f - <span style="color:#e6db74">&lt;&lt;EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">apiVersion: storage.k8s.io/v1beta1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">kind: VolumeAttributesClass
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">metadata:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  name: ebs-blog-gp3 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">driverName: ebs.csi.aws.com
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">parameters:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  type: gp3
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span>
</span></span></code></pre></div><p>Sau đó patch PVC:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ kubectl patch pvc ebs-blog-migration -p <span style="color:#e6db74">&#39;{&#34;spec&#34;: {&#34;volumeAttributesClassName&#34;: &#34;ebs-blog-gp3&#34;}}&#39;</span>
</span></span></code></pre></div><p>Lưu ý: tính đến Kubernetes 1.31, bạn không thể sửa đổi volumes tham chiếu SC kiểu in-tree. Hãy đảm bảo SC dùng provisioner ebs.csi.aws.com, không phải kubernetes.io/aws-ebs.</p>
<h4 id="workflow-modify-tags">Workflow modify tags</h4>
<p>Để quản lý dễ dàng hơn EBS volumes, bạn có thể dùng tags. Tags là các cặp key-value gán cho AWS resources, cho phép phân loại tài nguyên theo mục đích, owner hoặc environment. Với nhiều volumes, tags giúp xác định hoặc nhóm tài nguyên.</p>
<p>EBS CSI driver cho phép thêm, thay thế, xóa volume tags qua parameter tagSpecification trong VAC.</p>
<p>Ngoài ra, tags có thể dùng với Amazon Data Lifecycle Manager để tự động backup volumes. EBS Snapshots ghi lại trạng thái volume tại thời điểm cụ thể để khôi phục khi mất dữ liệu. Bạn có thể tạo chính sách DLM backup dựa vào tags.</p>
<p>Ví dụ chính sách sau tạo snapshot mỗi ngày cho các volume dùng VAC ebs-blog-daily-backup:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ aws dlm get-lifecycle-policies
</span></span><span style="display:flex;"><span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Policies&#34;</span>: <span style="color:#f92672">[</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;PolicyId&#34;</span>: <span style="color:#e6db74">&#34;policy-045203fd0b8e2bf79&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;Description&#34;</span>: <span style="color:#e6db74">&#34;This policy creates daily backups of my K8s PVs&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;State&#34;</span>: <span style="color:#e6db74">&#34;ENABLED&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;Tags&#34;</span>: <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;backup-interval&#34;</span>: <span style="color:#e6db74">&#34;daily&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">}</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;PolicyType&#34;</span>: <span style="color:#e6db74">&#34;EBS_SNAPSHOT_MANAGEMENT&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;DefaultPolicy&#34;</span>: false
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><h2 id="dọn-dẹp">Dọn dẹp</h2>
<p>Để tránh phát sinh chi phí, xóa các resources đã tạo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl delete pod ebs-blog-migration-app
</span></span><span style="display:flex;"><span>kubectl delete pvc ebs-blog-claim
</span></span><span style="display:flex;"><span>kubectl delete pvc ebs-blog-migration
</span></span><span style="display:flex;"><span>kubectl delete vac ebs-blog-gp3
</span></span><span style="display:flex;"><span>kubectl delete vac ebs-blog-gp3-increased-performance
</span></span><span style="display:flex;"><span>kubectl delete vac ebs-blog-gp3-standard-performance
</span></span><span style="display:flex;"><span>kubectl delete vac ebs-blog-daily-backup 
</span></span><span style="display:flex;"><span>kubectl delete sc ebs-blog-sc
</span></span><span style="display:flex;"><span>kubectl delete sc ebs-blog-migration
</span></span></code></pre></div><p>Bạn có thể kiểm tra việc xóa volumes trong EC2 console.</p>
<h2 id="phần-kết-luận">Phần kết luận</h2>
<p>Trong bài viết này, chúng tôi khám phá cách sửa đổi Amazon EBS volumes trên Kubernetes với VolumeAttributesClasses. Tính năng mới này giúp bạn tinh chỉnh hiệu năng volume bằng cách cập nhật volume type, IOPS và throughput mà không cần downtime. Hơn nữa, bạn có thể tự động hóa backup bằng cách chỉnh sửa resource tags phù hợp với Amazon Data Lifecycle Manager.</p>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="../../../vi/3-blogstranslated/3.2-blog2/" title="Blog 2"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="../../../vi/4-eventparticipated/" title="Các events đã tham gia" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="../../../js/clipboard.min.js?1765201106"></script>
    <script src="../../../js/perfect-scrollbar.min.js?1765201106"></script>
    <script src="../../../js/perfect-scrollbar.jquery.min.js?1765201106"></script>
    <script src="../../../js/jquery.sticky.js?1765201106"></script>
    <script src="../../../js/featherlight.min.js?1765201106"></script>
    <script src="../../../js/highlight.pack.js?1765201106"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="../../../js/modernizr.custom-3.6.0.js?1765201106"></script>
    <script src="../../../js/learn.js?1765201106"></script>
    <script src="../../../js/hugo-learn.js?1765201106"></script>

    <link href="../../../mermaid/mermaid.css?1765201106" rel="stylesheet" />
    <script src="../../../mermaid/mermaid.js?1765201106"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script>
  (function (i, s, o, g, r, a, m) {
    i["GoogleAnalyticsObject"] = r;
    ((i[r] =
      i[r] ||
      function () {
        (i[r].q = i[r].q || []).push(arguments);
      }),
      (i[r].l = 1 * new Date()));
    ((a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]));
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m);
  })(
    window,
    document,
    "script",
    "https://www.google-analytics.com/analytics.js",
    "ga",
  );

  ga("create", "UA-158079754-2", "auto");
  ga("send", "pageview");
</script>

  </body>
</html>
